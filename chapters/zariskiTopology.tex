\chapter{Zariski Topology}

\begin{definition}
    For any $\epsilon > 0$ and any $x \in \bbR^n$, the \emph{open ball} centered at $x$ with radius $\epsilon$ is 
    \[B_\epsilon(x) = \{y \in \bbR^n \mathrel{\big |} \abs{x-y} < \epsilon\}.\]
    A subset $U \subseteq \bbR^n$ is \emph{open} if for any $x \in U$, there exists $\epsilon > 0$ such that $B_\epsilon(x) \subseteq U$, i.e., if $U$ is the union of (possible infinitely many) open balls. e.g., if $n = 1$, $B_\epsilon(x) = (x-\epsilon,x+\epsilon)$ is an open interval. \par 
    More generally, this works for any metric space.
\end{definition}

\begin{fact}
    $\bbR^n$ and $\emptyset$ are both open. \par 
    The set of open sets in $\bbR^n$ is closed under arbitrary union and finite intersection, i.e., if $U_\lambda$ is open for any $\lambda \in \Lambda$, then $\bigcup_{\lambda \in \Lambda} U_\lambda$ is open, and if $U_i$ open for any $i = 1,\cdots,d$, then $\bigcap_{i=1}^d U_i$ is open. \par 
    The set of open sets in $\bbR^n$ is (usually) not closed under infinite intersections, e.g., $\bigcap_{i=1}^\infty (-1/i,1/i) = \{0\}$, not open in $\bbR^n$. 
\end{fact}

\begin{definition}
    A\emph{topology} on a non-empty set $X$ is a collection of sets $\ssT$ of subsets of $X$ ($\ssT \subseteq \llP(X)$) such that
    \begin{enumerate}
        \item $\emptyset, X \in \ssT$,
        \item for any $U_\lambda\}_{\lambda \in \Lambda} \subseteq \ssT$, $\bigcup_{\lambda \in \Lambda} U_\lambda \in \ssT$ and
        \item for any $n \geq 1$ and $U_1,\cdots,U_n \in \ssT$, $\bigcap_{i=1}^n U_\lambda \in \ssT$.
    \end{enumerate}
    \par The elements of $\ssT$ are the \emph{open subsets} of $X$. \par
    A \emph{topological space} is a set $X \neq \emptyset$ equipped with a topology $\ssT$.
\end{definition}

\begin{example}
    The \emph{Euclidean topology} on $\bbR^n$ is the topology on $\bbR^n$ from definition 2.1. More generally, this is the metric space topology.
\end{example}

\begin{definition}
    The \emph{Zariski topology} on $\operatorname{Spec}(R) = X$ ($R \neq 0$). The open sets are 
    \[\operatorname{Spec}(R) \setminus \operatorname{V}(S) = \{\ffp \in \operatorname{Spec}(R) \mid S \not \subseteq \ffp\}\] 
    where $S \subseteq R$. e.g., for any $f \in R$: $X_f = \operatorname{Spec}(R) \setminus \operatorname{V}(f) = \{\ffp \in \operatorname{Spec}(R) \mid f \not \in \ffp\}$.
\end{definition}

\begin{proposition}
    If $S \subseteq R$, then $\operatorname{V}(S) = \operatorname{V}(\langle S \rangle)$ and so $\operatorname{Spec}(R) \setminus \operatorname{V}(S) = \operatorname{Spec}(R) \setminus \operatorname{V}(\langle S \rangle)$. In other words, the open sets are exactly the sets $\operatorname{Spec}(R) \setminus \operatorname{V}(\ffa)$, where $\ffa \leq R$.
\end{proposition}

\begin{notation*}
    $\ssZ = \{\operatorname{Spec}(R) \setminus \operatorname{V}(S) \mid S \subseteq R\} = \{\operatorname{Spec}(R) \setminus \operatorname{V}(\ffa) \mid \ffa \leq R\}$.
\end{notation*}

\begin{example}
    Compute the Zariski open sets $\ssZ$ of $\operatorname{Spec}(\bbZ) = X$. Since $\bbZ$ is a principal ideal domain, $\ssZ = \{\operatorname{Spec}(\bbZ) \setminus \operatorname{V}(m) \mid m \geq 0\}$. Since $\operatorname{V}(0) = \operatorname{Spec}(\bbZ)$, $X_0 = \operatorname{Spec}(\bbZ) \setminus \operatorname{V}(0) = \emptyset$, and since $\operatorname{V}(1) = \emptyset$, $X_1 = \operatorname{Spec}(\bbZ) \setminus \operatorname{V}(1) = \operatorname{Spec}(\bbZ)$. For $m \geq 2$, write $m = p_1^{e_1} \cdots p_n^{e_n}$ with $p_1,\cdots,p_n$ are distinct primes and $e_1,\cdots,e_n \geq 1$, then $\operatorname{V}(m) = \{\langle p_1 \rangle, \cdots, \langle p_n \rangle\}$ and so $X_m = \operatorname{Spec}(\bbZ) \setminus \operatorname{V}(m) = X \setminus \{\langle p_1 \rangle,\cdots, \langle p_n \rangle\}$. Note these are all the open sets. In particular, $\ffp = \{0\}$ is in every non-empty open set.
\end{example}

\begin{fact}
    Let $X = \operatorname{Spec}(R)$. Then $X_0 = X \setminus \operatorname{V}(0) = \emptyset$ and $X_1 = X \setminus \operatorname{V}(1) = X$.
\end{fact}

\begin{proposition}
    In $X = \operatorname{Spec}(R)$, if $f_1,\cdots,f_n \in R$, then $X_{f_1} \cap \cdots \cap X_{f_n} = X_{f_1 \cdots f_n}$.
\end{proposition}

\begin{proof}
    $\ffp \in X_{f_1 \cdots f_n}$ if and only if $f_1 \cdots f_n \not \in \ffp$ if and only if $f_i \not \in \ffp$ for any $i = 1,\cdots,n$ if and only if $\ffp \in X_{f_i}$ for any $i = 1,\cdots,n$ if and only if $\ffp \in \bigcap_{i=1}^n X_{f_i}$.
\end{proof}

\begin{definition}
    If $X$ is a topological space, then a subset $Y \subseteq X$ is \emph{closed} if $X \setminus Y$ open, i.e., if and only if $Y = X \setminus U$ for some open subset $U \subseteq X$.
\end{definition}

\begin{example}
    In $\operatorname{Spec}(R) = X$, the closed sets are the sets of the form $\operatorname{V}(S) \subseteq \operatorname{Spec}(R)$, i.e., the sets $\operatorname{V}(\ffa) \subseteq \operatorname{Spec}(R)$ such that $\ffa \leq R$.
\end{example}

\begin{proposition}
    Let $X$ be a non-empty set, $\ssY \subseteq \llP(X)$ and $\ssV = \{X \setminus Y \mid Y \in \ssY\}$. Then $\ssY$ is a topology on $X$ if and if only $\ssV$ satisfies the following.
    \begin{enumerate}
        \item $X,\emptyset \in \ssV$,
        \item closed under arbitrary intersections, i.e., for any $\{V_\lambda\}_{\lambda \in \Lambda} \subseteq \ssV$, then $\bigcap_{\lambda \in \Lambda} V_\lambda \in \ssV$,
        \item closed under fintie unions, i.e., for any $n \geq 1$ and $V_1,\cdots,V_n \in \ssV$, $\bigcup_{i=1}^n V_i \in \ssV$.
    \end{enumerate}
\end{proposition}

\begin{proof}
    It follows from $X \setminus \emptyset = \emptyset$, $X \setminus X = \emptyset$ and $\bigcap_{\lambda \in \Lambda} (X \setminus U_\lambda) = X \setminus (\bigcup_{\lambda \in \Lambda} U_\lambda)$.
\end{proof}

\begin{theorem}
    The Zariski topology on $\operatorname{Spec}(R) = X$ is a topology.
\end{theorem}

\begin{proof}
    Note $\ssZ = \{\operatorname{Spec}(R) \setminus \operatorname{V}(\ffa) \mid \ffa \leq R\} \subseteq X$. Let $\ssV = \{X \setminus Z \mid Z \in \ssZ\} = \{\operatorname{V}(\ffa) \mid \ffa \leq R\}$.
    \begin{enumerate}
        \item $X = \operatorname{V}(0) \in \ssV$ and $\emptyset = \operatorname{V}(1) \in \ssV$,
        \item For $\ffa_\lambda \leq \ffa$ for any $\lambda \in \Lambda$, $\bigcap_{\lambda \in \Lambda} \operatorname{V}(\ffa_\lambda) = \operatorname{V}(\sum_{\lambda \in \Lambda} \ffa_\lambda) \in \ssV$ by Fact 1.36.
        \item For any $n \geq 1$ and $\ffa_1,\cdots,\ffa_n \leq R$, $\bigcup_{i=1}^n \operatorname{V}(\ffa_i) = \operatorname{V}(\bigcap_{i=1}^n \ffa_i) \in \ssV$ by Proposition 1.39(a). \qedhere
    \end{enumerate}
    So by Proposition 2.12, the Zariski topology on $\operatorname{Spec}(R) = X$ is a topology.
\end{proof}

\begin{definition}
    A \emph{basis} for the topology $\ssT$ on a topological space $X$ is a subset $\llB \subseteq \ssT$ such that for any open set $U \subseteq X$ and any $u \in U$, there exists $B \subseteq \llB$ such that $u \in B \subseteq U$.
\end{definition}

\begin{example}
    In the Euclidean topology, $\llB = \{B_\epsilon(x) \mid x \in \bbR^n, \epsilon > 0\}$ is a basis.
\end{example}

\begin{theorem}
    In $X = \operatorname{Spec}(R)$, $\llB = \{X_f \mid f \in R\}$ is a basis for the Zariski topology.
\end{theorem}

\begin{proof}
    It suffices to show $X \setminus \operatorname{V}(S) = \bigcup_{s \in S}X_s$ for any $S \subseteq R$. Note $\ffp \in X \setminus \operatorname{V}(S)$ if and only if $S \not \subseteq \ffp$ if and only if there exists $s \in S$ such that $s \not \in \ffp$ if and only if there exists $s \in S$ such that $\ffp \in X_s$ if and only if $\ffp \in \bigcup_{s \in S}X_S$.
\end{proof}

\begin{proposition}
    If $R$ is noetherian, then for any open subset $U \subseteq X = \operatorname{Spec}(R)$, there exists $s_1,\cdots,s_n \in R$ such that $U = X_{s_1} \cup \cdots \cup X_{s_n}$, i.e., open sets are the finite union of the basis open sets.
\end{proposition}

\begin{proof}
    Wtite $U = X \setminus \operatorname{V}(\ffa)$ for some $\ffa \leq R$. Since $R$ is noetherian, $\ffa = \langle s_1,\cdots,s_n \rangle$ for some $s_1,\cdots,s_n \in \ffa$. Then $U = X \setminus \operatorname{V}(\langle s_1,\cdots,s_n \rangle) = X \setminus \operatorname{V}(s_1,\cdots,s_n) = \bigcup_{i=1}^n X_{s_i}$ by Theorem 2.16.
\end{proof}

\begin{definition}
    A topological space $X$ is quasi-compact if ``every open cover of $X$ has a finite sub-cover'', i.e., for any $\{U_\lambda\}_{\lambda \in \Lambda} \subseteq \ssT$, if $X = \bigcup_{\lambda \in \Lambda} U_\lambda$, then there exist $\lambda_1,\cdots,\lambda_n \in \Lambda$ such that $X = \bigcup_{i=1}^n U_{\lambda_i}$.
\end{definition}

\begin{theorem}
    $\operatorname{Spec}(R)$ is quasi-compact.
\end{theorem}

\begin{proof}
    Since each open set $U_\lambda$ can be written as a union of $X_f$'s with $f \in R$, without loss of generality, assmue $X = \bigcup_{\lambda \in \Lambda} X_{f_\lambda} = X \setminus \operatorname{V}(\bigcup_{\lambda \in \Lambda}f_{\lambda})$ by Theorem 2.16. Then by Proposition 1.32(a), $\operatorname{V}(\langle \bigcup_{\lambda \in \Lambda}f_{\lambda} \rangle) = \operatorname{V}(\bigcup_{\lambda \in \Lambda}f_{\lambda}) = \emptyset$. So by Proposition 1.32(b), $\langle \bigcup_{\lambda \in \Lambda}f_{\lambda} \rangle = R \ni 1$. Then $1 = g_{\lambda_1} f_{\lambda_1} + \cdots + g_{\lambda_n}f_{\lambda_n}$ for some $n \in \bbN$, $\lambda_1,\cdots,\lambda_n \in \Lambda$ and $g_{\lambda_1},\cdots,g_{\lambda_n} \in R$. So $\langle f_{\lambda_1},\cdots,f_{\lambda_n} \rangle = R$. Then by Proposition 1.32(b), $\operatorname{V}(f_{\lambda_1},\cdots,f_{\lambda_n}) = \emptyset$. Thus, by Theorem 2.16, $X = X \setminus \operatorname{V}(f_{\lambda_1},\cdots,f_{\lambda_n}) = X_{f_{\lambda_1}} \cup \cdots \cup X_{f_{\lambda_n}}$.
\end{proof}

\begin{remark}
    Q: What do the $X_f$ look like? A: $\operatorname{Spec}(R)$.
\end{remark}

\begin{proposition}
    Let $\varphi: R \to R_f$ be the natural map and $\varphi^*: \operatorname{Sepc}(R_f) \to \operatorname{Spec}(R)$ be given by $\varphi^*(\ffp) = \varphi^{-1}(\ffp)$.
    \begin{enumerate}
        \item For any $\ffp \in \operatorname{Spec}(R_f)$, $\varphi^*(\ffp) \in X_f$.
        \item Restrict codomain, the induced map $\varphi_f^*: \operatorname{Spec}(R_f) \to X_f$ is 1-1 and onto.
    \end{enumerate}
    Slogan: $\operatorname{Spec}(R) = X_f$ ``open affine subsets''.
\end{proposition}

\begin{proof}
    Prime correspondence.
    \begin{align*}
        X_f = \{\ffp \in \operatorname{Spec}(R) \mid f \not \in \ffp\} & \rightleftarrows \operatorname{Spec}(R_f). \\
        \ffp &\mapsto \ffp_f = \ffp R_f \\
        \varphi^*(\ffp) = \varphi^{-1}(\ffp) = \text{``$\ffp \cap R$''} &\mapsfrom \ffp.
    \end{align*}
\end{proof}

\begin{remark}[Construction: Classical algebraic geometry]
    Geometry: let $k$ be a field. $k = \bbR$ or $\bbC$. \par 
    \emph{$d$-dimensional affine space} $\bbA^d_k = \bbA^n = k^d \ni \underline a = (a_1,\cdots,a_n)$. \par 
    Let $S \subseteq k[\underline X] \subseteq k[X_1,\cdots,X_d]$. $\operatorname{V}(S) = \{\underline a \in \bbA^d \mid f(\underline a) = 0,\fa f \in S\} = \text{``zero locus of $S$''} \subseteq \bbA^d$. e.g., $\operatorname{V}(X^2+Y^2+Z^2-1) = \text{``unit sphere''} \subseteq \bbA^3_\bbR = \bbR^3$. \par 
    Zariski topology in $\bbA^d$. Let $S \subseteq \bbA^d$ and $f \in k[\underline X]$. Closed set: $\operatorname{V}(S) = \operatorname{V}(\langle S \rangle) \subseteq \bbA^d$. Open sets: $\bbA^d \setminus \operatorname{V}(S)$. Basic open sets: $\bbA^d \setminus \operatorname{V}(f)$. \par 
    Let $T \subseteq k[\underline X]$ be fixed and $\operatorname{V}(T) \subseteq \bbA^d$. Zariski topology: closed sets $\operatorname{V}(S) \cap \operatorname{V}(T)$, open sets: $(\bbA^d \setminus \operatorname{V}(S)) \cap \operatorname{V}(T)$ since $\bbA^d \setminus \operatorname{V}(S)$ is open, basic open sets: $(\bbA^d \setminus \operatorname{V}(f)) \cap \operatorname{V}(T)$.
    \begin{align*}
        \bbA^d &\hookrightarrow \operatorname{m-Spec}(k[\underline X]) \subseteq \operatorname{Spec}(k[\unerline X]) \\
        \underline a &\mapsto (X_1-a_1,\cdots,X_d-a_d), 
    \end{align*}
    where $(X_1-a_1)$ is the kernel of the map $k[\underline X] \to k$ given by $f \mapsto f(\underline a)$. \par 
    Hilbert's Nullstellensatz. If $k = \overline k$, then this map is onto. \par 
    Grothenick: there exists more geometric data in $\operatorname{Spec}(R)$. \par 
    $V = \operatorname{V}(T) = \operatorname{V}(\ffb)$, where $\ffb = \langle T \rangle \leq k[\underline X]$. \par 
    $\operatorname{rad}(I) \geq \operatorname{I}(V) = \{f \in k[\underline X] \mid f(\underline a) = 0,\fa \underline a \in V\} = \text{``vanishing ideal of $V$''} \leq k[\underline X]$. \par 
    \emph{Hilbert Nullstellensatz}: If $k = \overline k$, then $\operatorname{rad}(\ffq) = \operatorname{I}(V)$. \\
    \emph{Coordinate ring of $V$}: $k[V] = k[\underline X]/\operatorname{I}(V)$, which is also known as \emph{ring of regular functions on $V$}. Note $\overbar X_i \in k[\underline X]/\operatorname{I}(V)$, $\overbar (\underline a) = \underline a_i$, $i^{\text{th}}$ coordinate function. Let $\overbar f \in k[\underline X]/\operatorname{I}(V) \leadsto$: $\overbar f: V \to k$ given by $\overline a \mapsto f(\underline a)$, which is well-defined because of $\operatorname{I}(V)$. $....$
\end{remark}

noindent Set up: $R \ni f$. $X = \operatorname{Spec}(R) \supseteq X_f = X \setminus \operatorname{V}(f) = \{\ffp \mid f \not \in \ffp\}$.

\section*{Subspaces}

\begin{proposition}
    Let $X$ be a topological space with $\ssT$ and let $Y \subseteq X$. Define $\ssT_y = \{U \cap Y \mid U \in \ssT\}$. Then $\ssT_y$ is a topology on $Y$, called the \emph{subspace topology}.
\end{proposition}

\begin{proof}
    $Y = X \cap Y \in \ssT_Y$ since $X \subseteq X$ is open. $\emptyset = \emptyset \cap Y  \in \ssT_y$ since $\emptyset \subseteq X$ is open, etc. 
\end{proof}

\noindent Observe: closed subsets of $Y$ are $V \cap Y$, where $V \subseteq X$ is closed.

\begin{proposition}
    If $\llB$ is a basis for $\ssT$, then $\llB_Y = \{\llB \cap Y \mid B \in \llB\}$ is a basis for $\ssT_Y$.
\end{proposition}

\begin{proof}
    open subset of $Y$ is $U \cap Y = \bigcup_\lambda (B_\lambda \cap Y)$ since $\bigcup_\lambda B_\lambda = U \in \ssT$.
\end{proof}

\begin{corollary}
    Subspace topology on $X_f \subseteq X = \operatorname{Spec}(R)$ has 
    \begin{enumerate}
        \item closed sets: $\operatorname{V}(\ffa) \cap X_f$.
        \item open sets: $(X \setminus \operatorname{V}(\ffa))\cap X_f$.
        \item basic open sets: $X_g \cap X_f = X_{fg}$.
    \end{enumerate}
\end{corollary}

\begin{proposition}
    Let $\varphi: \to R_f$ and $\varphi_f^*: \operatorname{Spec}(R_f) = Z \to X_f$. 
    \begin{enumerate}[(a)]
        \item 
            $(\varphi_f^*)^{-1}(\operatorname{V}(\ffa) \cap X_f) = \operatorname{V}(\ffa_f)$. 
        \item
            $(\varphi_f^*)^{-1}((X \setminus \operatorname{V}(\ffa)) \cap X_f) = \operatorname{Spec}(R_f) \setminus \operatorname{V}(\ffa_f)$.
        \item 
            $(\varphi_f^*)^{-1}(X_g \cap X_f) = Z_{g|1}$.
    \end{enumerate}
\end{proposition}

\begin{proof}
    \begin{enumerate}[(a)]
        \item Let $\ffp \in \operatorname{Spec}(R_f) = Z$. Then $\ffp \in (\varphi_f^*)^{-1}(\operatorname{V}(\ffa) \cap X_f)$ iff $\varphi^{-1}(\ffp) = \varphi_f^*(\ffp) \in \operatorname{V}(\ffa) \cap X_f$ iff $\ffa \subseteq \varphi^{-1}(\ffp)$ and $f \not \in \varphi^{-1}(\ffp)$ iff $\ffa_f = \ffa R_f \subseteq \varphi^{-1}(\ffp)R_f = \ffp$ iff $\ffp \in \operatorname{V}(\ffa_f)$.
        \item etc.
        \item etc.
    \end{enumerate}
\end{proof}

\section{Continuous functions and homeomorphisms}

\begin{definition}
    Let $f: X \to Y$ be a function between topological spaces. Then $f$ is \emph{continuous} if for any $U \in \ssT_Y$, $f^{-1}(U) \in \ssT_x$. \par 
    ``Inverse image of arbitrary open set in $Y$ is open in $X$''. 
\end{definition}

\begin{fact}
    To show $f$ is continuous, it is equivalent to show $f^{-1}(\text{arbitrary closed sets of $Y$})$ is closed in $X$, equivalent to showing $f^{-1}(\text{basic open subsets of $Y$})$ is open in $X$.
\end{fact}

\begin{theorem}

\end{theorem}

\begin{proof}

\end{proof}
